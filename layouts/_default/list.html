{{ define "main" }}
  {{- $readMore := (T "readMore") | default "Read more â†’" -}}
  <div class='hx-mx-auto hx-flex {{ partial "utils/page-width" . }}'>
    {{ partial "sidebar.html" (dict "context" . "disableSidebar" true) }}
    <div class="hx-w-full hx-break-words hx-min-h-[calc(100vh-var(--navbar-height))] hx-min-w-0 hx-pb-8 hx-pt-8 md:hx-pt-12 hx-pl-[max(env(safe-area-inset-left),1.5rem)] hx-pr-[max(env(safe-area-inset-left),1.5rem)]">
      <div class="hx-flex hx-flex-col hx-items-start">
        <div class="hx-content">{{ .Content }}</div>
        {{ range .Pages.ByDate.Reverse }}
          <div class="hx-mb-10 hx-flex hx-shadow-left hx-shadow-bottom hx-items-center">
            <div class="hx-w-3/4">
              <h3 style="hx-overflow-wrap: break-word;"><a style="color: inherit; text-decoration: none;" class="hx-block hx-font-semibold hx-mt-8 hx-text-2xl " href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
              {{- if site.Params.blog.list.displayTags -}}
                {{ with .Params.tags }}
                  <p class="hx-opacity-50 hx-text-sm hx-leading-7">
                    {{- range . }}<a class="hx-inline-block hx-mr-2">#{{ . }}</a>{{ end -}}
                  </p>
                {{ end -}}
              {{- end -}}
              <p class="hx-opacity-80 hx-mt-4 hx-leading-7" style="max-width: 25ch; overflow-wrap: break-word;">{{- partial "utils/page-description" . -}}</p>
              <p class="hx-opacity-80 hx-mt-1 hx-leading-7">
                <a class="hx-text-[color:hsl(var(--primary-hue),100%,50%)] hx-underline hx-underline-offset-2 hx-decoration-from-font" href="{{ .RelPermalink }}">
                  {{- $readMore -}}
                </a>
              </p>
              <p class="hx-opacity-50 hx-text-sm hx-mt-4 hx-leading-7">{{ partial "utils/format-date" .Date }}</p>
            </div>
                {{ $thumbnail := resources.Get .Params.thumbnail }}
                {{ if $thumbnail }}
                <div class="hx-w-1/4 hx-grow hx-pr-6 hidden sm:block" style="background-image: url('{{ $thumbnail.RelPermalink }}'); background-size: contain; background-repeat: no-repeat; background-position: center center; border-radius: 25px; width: 200px; height: 200px;">
                {{ else }}
                <div class="w-1/4 flex-grow pr-6 hidden sm:block" >
                  <p>No thumbnail found for path: {{ .Params.thumbnail }}</p>
                {{ end }}
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>
{{ end }}